//ALL DATA OBJECT
const gameVal = {
    roundCounter: 0,
    eightiesSongs: [
        song = {
            id: 1,
            artist: "New Order",
            album: "N/A",
            year: 1983,
            lyrics: "How does it feel / To treat me like you do?",
            otherAnswers: [
                "Stone Roses",
                "The Smiths",
                "New Order",
                "The Pixies"
            ]
        },
        song = {
            id: 2,
            artist: "Talking Heads",
            album: "Speaking in Tongues",
            year: 1983,
            lyrics: "I feel numb, burn with a weak heart / I guess I must be having fun",
            otherAnswers: [
                "The Smiths",
                "Talking Heads",
                "Michael jackson",
                "Jesus and Mary"
            ]
        },
        song = {
            id: 3,
            artist: "The Cure",
            album: "The Head on the Door",
            year: 1985,
            lyrics: "If only I was sure / that my head on the door was a dream",
            otherAnswers: [
                "The Smiths",
                "The Cure",
                "Michael jackson",
                "The Pixies"
            ]
        },
        song = {
            id: 4,
            artist: "The Specials",
            album: "N/A",
            year: 1981,
            lyrics: "We danced and sang, and the music played in a de boomtown",
            otherAnswers: [
                "The Smiths",
                "Stone Roses",
                "The Specials",
                "The Pixies"
            ]
        },
        song = {
            id: 5,
            artist: "Grace Jones",
            album: "Nightclubbin\"",
            year: 1981,
            lyrics: "Driving down those city streets / Waiting to get down / Won\"t you get your big machine / Somewhere in this town ?",
            otherAnswers: [
                "The Smiths",
                "Grace Jones",
                "Michael jackson",
                "The Pixies"
            ]
        },
        song = {
            id: 6,
            artist: "The Jesus and Mary Chain",
            album: "Darklands",
            year: 1987,
            lyrics: "Hey honey what you trying to say / As I stand here / Don\"t you walk away",
            otherAnswers: [
                "The Smiths",
                "Stone Roses",
                "The Jesus and Mary Chain",
                "The Pixies"
            ]
        },
        song = {
            id: 7,
            artist: "The Pixies",
            album: "Doolittle",
            year: 1989,
            lyrics: "Got me a movie / I want you to know / Slicing up eyeballs / I want you to know",
            otherAnswers: [
                "The Smiths",
                "Stone Roses",
                "Michael jackson",
                "The Pixies"
            ]
        },
        song = {
            id: 8,
            artist: "The Smiths",
            album: "The Smiths",
            year: 1983,
            lyrics: "This man said, 'It's gruesome / That someone so handsome should care",
            otherAnswers: [
                "The Smiths",
                "Stone Roses",
                "Michael jackson",
                "The Pixies"
            ]
        },
        song = {
            id: 9,
            artist: "The Sugarcubes",
            album: "Life\"s Too Good",
            year: 1988,
            lyrics: "Today is her birthday / They\"re smoking cigars / He got a chain of flowers / And Sews a bird in her knickers",
            otherAnswers: [
                "The Smiths",
                "Stone Roses",
                "The Sugarcubes",
                "The Pixies"
            ]
        },
        song = {
            id: 10,
            artist: "The Clash",
            album: "Combat Rock",
            year: 1982,
            lyrics: "Now the king told the boogie men / You have to / let that raga drop / The oil down the desert way / Has been shakin\" to the top",
            otherAnswers: [
                "Madonna",
                "Patti Smith",
                "Echo & the Bunnymen",
                "The Clash"
            ]
        }
    ],
    ninetiesSongs: [
        song = {
            id: 1,
            artist: "No Doubt",
            album: "",
            year: 1995,
            lyrics: "I\"m just a girl, guess I\"m some kind of freak, \"cause they all sit and stare with their eyes",
            otherAnswers: [
                "Pearl Jam",
                "Radiohead",
                "Nirvana",
                "Mariah Carey",

            ]
        },
        song = {
            id: 2,
            artist: "Beastie Boys",
            album: "Ill Communication",
            year: 1994,
            lyrics: "Said, son, you\"d better listen / Stuck in your ass is an electrician",
            otherAnswers: [
                "Ice Cube",
                "Fatboy Slim",
                "Beastie Boys",
                "Cypress Hill",

            ]

        },
        song = {
            id: 3,
            artist: "R.E.M.",
            album: "Out of Time",
            year: 1991,
            lyrics: "I thought that I heard you laughing /I thought that I heard you sing / I think thought I saw you try",
            otherAnswers: [
                "R.E.M.",
                "Janes Addiction",
                "Oasis",
                "Third Eye Blind",

            ]

        },
        song = {
            id: 4,
            artist: "BLACKstreet",
            album: "Another Level",
            year: 1996,
            lyrics: "She\"s got class and style / Street knowledge by the pound",
            otherAnswers: [
                "Salt-N-Peppa",
                "Vanilla Ice",
                "Notorious B.I.G.",
                "BLACKstreet",

            ]

        },
        song = {
            id: 5,
            artist: "Hanson",
            album: "Middle of Nowhere",
            year: 1997,
            lyrics: "Plant a seed, plant a flower, plant a rose / You can plant any one of those / Keep planting to find out which one grows/ It\"s a secret no one knows",
            otherAnswers: [
                "",
                "",
                "",
                "",

            ]

        },
        song = {
            id: 6,
            artist: "Beck",
            album: "Mellow Gold",
            year: 1994,
            lyrics: "With the plastic eyeballs / Spray-paint the vegetables / Dog food stalls with the beefcake pantyhose",
            otherAnswers: [
                "",
                "",
                "",
                "",

            ]

        },
        song = {
            id: 7,
            artist: "Hole",
            album: "Live Through This",
            year: 1994,
            lyrics: "I want to be the girl with the most cake / I love him so much it just turns to hate",
            otherAnswers: [
                "",
                "",
                "",
                "",

            ]

        },
        song = {
            id: 8,
            artist: "Len",
            album: "You Can\"t Stop the Bum Rush",
            year: 1999,
            lyrics: "My mind was thugged / all laced and bugged / all twisted wrong and beat / A comfortable three feet deep / Now the fuzzy stare from not being there on a confusing morning week / Impaired my tribal lunar speak",
            otherAnswers: [
                "",
                "",
                "",
                "",

            ]

        },
        song = {
            id: 9,
            artist: "Deee-Lite",
            album: "World Clique",
            year: 1990,
            lyrics: "Your groove, I do deeply dig/ No walls, only the bridge/ My supper dish/ My succotash wish",
            otherAnswers: [
                "",
                "",
                "",
                "",

            ]

        },
        song = {
            id: 10,
            artist: "LFO",
            album: "LFO",
            year: 1999,
            lyrics: "Cherry pants Coke / Crushed rocks till I boogie / Used to hate school / So I had to play hookie ",
            otherAnswers: [
                "test1",
                "test2",
                "test3",
                "test4",

            ]

        }
    ],
    thousandsSongs: [
        song = {
            id: 1,
            artist: "Hilary Duff",
            album: "",
            year: 20,
            lyrics: "If the light is off, then it isnâ€™t on",
            otherAnswers: [
                "Christina Aguilera",
                "",
                "",
                "",

            ]
        },
        song = {
            id: 2,
            artist: "",
            album: "",
            year: 20,
            lyrics: "",
            otherAnswers: [
                "",
                "",
                "",
                "",

            ]

        },
        song = {
            id: 3,
            artist: "",
            album: "",
            year: 20,
            lyrics: "",
            otherAnswers: [
                "",
                "",
                "",
                "",

            ]

        },
        song = {
            id: 4,
            artist: "",
            album: "",
            year: 20,
            lyrics: "",
            otherAnswers: [
                "",
                "",
                "",
                "",

            ]

        },
        song = {
            id: 5,
            artist: "",
            album: "",
            year: 20,
            lyrics: "",
            otherAnswers: [
                "",
                "",
                "",
                "",

            ]

        },
        song = {
            id: 6,
            artist: "",
            album: "",
            year: 20,
            lyrics: "",
            otherAnswers: [
                "",
                "",
                "",
                "",

            ]

        },
        song = {
            id: 7,
            artist: "",
            album: "",
            year: 20,
            lyrics: "",
            otherAnswers: [
                "",
                "",
                "",
                "",

            ]

        },
        song = {
            id: 8,
            artist: "",
            album: "",
            year: 20,
            lyrics: "",
            otherAnswers: [
                "",
                "",
                "",
                "",

            ]

        },
        song = {
            id: 9,
            artist: "",
            album: "",
            year: 20,
            lyrics: "",
            otherAnswers: [
                "",
                "",
                "",
                "",

            ]

        },
        song = {
            id: 10,
            artist: "",
            album: "",
            year: 20,
            lyrics: "",
            otherAnswers: [
                "",
                "",
                "",
                "",
            ]
        }
    ]
}

//NOTES: 1. PROBLEM WITH SCORING. Seems to be adding the previous score
//2. TRYING TO END THIS GAME



//START GAME NAMESPACE. THROW ALL METHODS ONTO myGame. 
const myGame = {

}

myGame.startScore = 0;

myGame.scoreCounter = () => {
    myGame.startScore++;

    $(".counter").empty();

    $(".counter").append(`<p class="number-add">${myGame.startScore}</p>`);
}





//APPENDS QUESTION IN QUESTION BLOCK
myGame.appendQuestion = () => {

    $(".question-block").html(`<p class="lyrics">${gameVal[myGame.decadeOfChoice][gameVal.roundCounter].lyrics}</p>`);
};

//Append possible answers to answer boxes
myGame.appendAnswers = () => {

    $(".answer-box-1").append(`<p>${gameVal[myGame.decadeOfChoice][gameVal.roundCounter].otherAnswers[0]}</p>`);

    $(".answer-box-2").append(`<p>${gameVal[myGame.decadeOfChoice][gameVal.roundCounter].otherAnswers[1]}</p>`);

    $(".answer-box-3").append(`<p>${gameVal[myGame.decadeOfChoice][gameVal.roundCounter].otherAnswers[2]}</p>`);

    $(".answer-box-4").append(`<p>${gameVal[myGame.decadeOfChoice][gameVal.roundCounter].otherAnswers[3]}</p>`);

    // $(".next-round").fadeOut("200");

};

myGame.userAnswer = function () {
    $(".answer-block").off().click(function () {
        console.log("answer block clicked")

        if ($(this).find("p")[0].innerHTML == gameVal[myGame.decadeOfChoice][gameVal.roundCounter].artist) {

            myGame.scoreCounter();

            $(".question-block").empty().append(`<h3>Correct!</h3>
            <ul>
                <li>Album: ${gameVal[myGame.decadeOfChoice][gameVal.roundCounter].album}</li>
                <li>Year: ${gameVal[myGame.decadeOfChoice][gameVal.roundCounter].year}</li>
            </ul>`);

            $(".answer-block").hide();

            $(".next-question button").show("200");

            $(".next-question").html(`<button class="next-round" tabindex=0>Next Round</button>`);


            myGame.endGame();

        } else {

            //IF WRONG GO RED

            $(".answer-block").hide();

            $(".next-question button").show("200");

            $(".question-block").empty().append(`<h3>Wrong Choice!</h3>
             <ul>
                <li>Album: ${gameVal[myGame.decadeOfChoice][gameVal.roundCounter].album}</li>
                <li>Year: ${gameVal[myGame.decadeOfChoice][gameVal.roundCounter].year}</li>
            </ul>`);

            $(".next-question").html(`<button class="next-round" tabindex=0>Next Round</button>`);

            myGame.endGame();

        }
    })
};



myGame.gameReset = () => {

    $(".answer-block").children("p")

        .remove();

}


//STORING USER NAME
$("#name-submit").on("click", function (event) {
    event.preventDefault();
    return userName = $("#name-input").val();

})


myGame.endGame = () => {

    if (gameVal[myGame.decadeOfChoice][gameVal.roundCounter].id == 10) {

        $("main").animate({
            "opacity": "0"
        }, "fast");

        $(".right-header").animate({
            "height": "100vh"
        }, "slow").css({
            "padding": "19vh 0 0 0"
        }).empty().append(`
        <div class="user-score">
            <h3> Great job ${userName}! You scored ${myGame.startScore}/10.</h3>
            <p class="play-again">Play Again?</p>

            <button class= "generation eighties next-level-gen" id="eightiesSongs">80s</button>

            <button class= "generation nineties next-level-gen"
            id= "ninetiesSongs">90s</button>

            <button class= "generation thousands next-level-gen"
            id= "thousandsSongs">00s</button>

        </div>
        `);

        $(".answer-block").fadeOut();

        // $(".next-round").fadeIn();

        myGame.tryAgain();
    }
}

myGame.tryAgain = () => {

    myGame.roundCounter = 0;


    myGame.scoreCounter = 0;

    myGame.gameInit();

    $(".generation").on("click", function () {
        $(".answer-block").children("p")

            .remove();

        $(".answer-block").fadeIn("750");
    })

    $(".question-block").css("height", "50vh").css("padding", "5px");
}

//START: NEED IF ELSE DEPENDING ON USERS CHOICE OF 80/90/00; DIRECT THEM TO THAT ARRAY
//game starts here. User clicks button and it retrieves number that is passed through the appendquestion, appendanswer and useranswer functions.

myGame.startQuestions = () => {

    //ADDS ANSWER BOXES TO PAGE
    $(".answer-block").removeClass("hide-me").addClass("block-me");

    //APPENDS LYRICS AND QUESTION TO PAGE
    myGame.appendQuestion();

    //APPENDS ANSWERS TO PAGE
    myGame.appendAnswers();

    //IF THE USER ANSWER IS CORRECT, DO WHAT?
    myGame.userAnswer();
};

myGame.nextRound = () => {
    $(".next-question").on("click", ".next-round", function () {

        //ADDS ONE TO ROUNDCOUNTER 
        gameVal.roundCounter += 1;

        //SHOW ANSWERBLOCK WITH NEXT ROUND DATA
        $(".answer-block").show();

        $(this).hide();

        //RESET THE GAME DATA (ALL APPENDED DATA CLEARED)
        myGame.gameReset(gameVal.roundCounter);

        //REAPPEND QUESTIONS 
        myGame.appendQuestion(gameVal.roundCounter);

        //REAPPEND ANSWERS
        myGame.appendAnswers(gameVal.roundCounter);

        //TAKE IN ANOTHER USER ANSWER        
        myGame.userAnswer(gameVal.roundCounter);
    })
}




myGame.gameInit = () => {

    $(".generation").on("click", function () {
        const chosenGeneration = $(this).attr("id")
        myGame.decadeOfChoice = [chosenGeneration];

        $(".question-block").css("height", "36vh").css("padding", "5px");

        myGame.startQuestions();

        myGame.nextRound();

    })

}



$(function () {
    myGame.gameInit();

    //STYLING
    $(".instruction-slide").on("click", function () {
        $(".instructions").animate({
            "width": "4rem"
        }, "400");

        $(".instruction-box").empty()

        $(".icon-box").append(`
        <div class="box-1"></div>
        <div class="box-2"></div>
        </span>
        `).addClass("instruction-close").animate({
            "opacity": "1"
        }, "slow");


    });
    //STYLING
    $("#name-submit").on("click", function () {

        $(".right-header").animate({
            "height": "20vh"
        }, "fast").empty().append(`<div class="good-luck-message">
            <h4>Thanks, ${userName}! Good Luck!</h4>
        </div>`)
            .css({
                "padding": "14vh 0 0 43%"
            });

        $("main").css({
            "z-index": "50"
        });

        // $(".question-block").animate({
        //     "opacity": "1"
        // }, 700);
    });

    if (window.matchMedia("(max-width: 550px)").matches) {
        /* The viewport is less than, or equal to, 700 pixels wide */
        $('.instruction-slide').on('click', function () {
            $('.instructions').animate({ 'height': '20vh' });

            $('.instruction-close').css({ 'top': '2.5rem' });

            $('#name-submit').on('click', function () { 
                $('.right-header').animate({ 'height': '10vh' }, 200).css({'padding': '4vh 0px 0px 28%'});

                $('.question-block').animate({
                        'opacity': '1'
                    }, 500).delay(5000);
            })
        });

        $('.generation').on('click', function () { 
            $(".question-block").css("height", "28vh").css("padding", "5px");
        })
    }
})
