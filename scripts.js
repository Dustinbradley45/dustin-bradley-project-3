//ALL DATA OBJECT
const gameVal = {
    roundCounter: 0,
    eightiesSongs: [
        song = {
            id: 1,
            title: "Kiss",
            artist: "Prince",
            album: "Kiss / Love or Money",
            year: 1986,
            lyrics: "You don't have to be cool to rule my world",
            otherAnswers: [
                "Michael Jackson",
                "David Bowie",
                "Prince",
                "Whitney Houston"
            ]
        },
        song = {
            id: 2,
            title: "This must be the Place (Naive Melody)",
            artist: "Talking Heads",
            album: "Speaking in Tongues",
            year: 1983,
            lyrics: "I feel numb, burn with a weak heart / I guess I must be having fun",
            otherAnswers: [
                "Ramones",
                "Talking Heads",
                "Roxy Music",
                "Bryan Eno"
            ]
        },
        song = {
            id: 3,
            title: "Walk like an Egyptian",
            artist: "The Bangles",
            album: "Different Light",
            year: 1985,
            lyrics: "All the bazaar men by the Nile / They got the money on a bet",
            otherAnswers: [
                "The Bangles",
                "The Go-Go's",
                "Cyndi Lauper",
                "The Runaways"
            ]
        },
        song = {
            id: 4,
            title: "Whip It",
            artist: "DEVO",
            album: "Freedom of Choice",
            year: 1980,
            lyrics: "Give the past then slip / Step on a crack / Break your momma's back",
            otherAnswers: [
                "Duran Duran",
                "Billy Idol",
                "The Pretenders",
                "DEVO"
            ]
        },
        song = {
            id: 5,
            title: "Quiche Lorraine",
            artist: "B-52's",
            album: "Wild Planet",
            year: 1980,
            lyrics: "Quiche La Poodle is her name / And having a good time on a crummy day is our game.",
            otherAnswers: [
                "The Clash",
                "Grace Jones",
                "B-52's",
                "R.E.M."
            ]
        },
        song = {
            id: 6,
            title:"Modern Love",
            artist: "David Bowie",
            album: "Let's Dance",
            year: 1983,
            lyrics: "There's no sign of life / It's just the power to charm",
            otherAnswers: [
                "Queen",
                "George Michael",
                "David Bowie",
                "Elton John"
            ]
        },
        song = {
            id: 7,
            title: "Debaser",
            artist: "The Pixies",
            album: "Doolittle",
            year: 1989,
            lyrics: "Got me a movie / I want you to know / Slicing up eyeballs / I want you to know",
            otherAnswers: [
                "Sonic Youth",
                "The Breeders",
                "The Velvet Underground",
                "The Pixies"
            ]
        },
        song = {
            id: 8,
            title:"This Charming Man",
            artist: "The Smiths",
            album: "The Smiths",
            year: 1983,
            lyrics: "This man said, 'It's gruesome / That someone so handsome should care",
            otherAnswers: [
                "The Smiths",
                "The Cure",
                "Joy Division",
                "The Stone Roses"
            ]
        },
        song = {
            id: 9,
            title: "I'm On Fire",
            artist: "Bruce Springsteen",
            album: "Born In the U.S.A.",
            year: 1984,
            lyrics: "At night I wake up with the sheets soaking wet / And a freight train running through the middle of my head",
            otherAnswers: [
                "Neil Young",
                "Bob Dylan",
                "Bruce Springsteen",
                "Eric Clapton"
            ]
        },
        song = {
            id: 10,
            title: "Call Me",
            artist: "Blondie",
            album: "Autoamerican",
            year: 1980,
            lyrics: "Cover me with kisses, baby / Cover me with love",
            otherAnswers: [
                "Madonna",
                "Patti Smith",
                "Blondie",
                "Iggy Pop"
            ]
        }
    ],
    ninetiesSongs: [
        song = {
            id: 1,
            title: "Doo Wop (That Thing)",
            artist: "Lauryn Hill",
            album: "The Miseducation of Lauryn Hill",
            year: 1998,
            lyrics: "Yo, it's about a thing / If ya feel real good wave your hands in the air",
            otherAnswers: [
                "Erykah Badu",
                "Mary J. Blige",
                "Lauryn Hill",
                "Missy Elliott",

            ]
        },
        song = {
            id: 2,
            title: "Lovefool",
            artist: "The Cardigans",
            album: "First Band on the Moon",
            year: 1996,
            lyrics: "Dear, I fear we're facing a problem / You love me no longer, I know",
            otherAnswers: [
                "Garbage",
                "The Cardigans",
                "Natalie Imbruglia",
                "The Cranberries",
            ]
        },
        song = {
            id: 3,
            title: "All That She Wants",
            artist: "Ace of Base",
            album: "The Sign",
            year: 1992,
            lyrics: "All that she wants is another baby / She's gone tomorrow boy",
            otherAnswers: [
                "Roxette",
                "ABBA",
                "Bananarama",
                "Ace of Base",
            ]

        },
        song = {
            id: 4,
            title: "Saturday Night",
            artist: "Whigfield",
            album: "Whigfield",
            year: 1995,
            lyrics: "I'll make you mine, you know i'll take you to the top",
            otherAnswers: [
                "Aqua",
                "Whigfield",
                "Robyn",
                "Jewel",

            ]

        },
        song = {
            id: 5,
            title:"Cannonball",
            artist: "The Breeders",
            album: "Last Splash",
            year: 1993,
            lyrics: "Spitting in a wishing well / Blown to hell / Crash / On the last splash ",
            otherAnswers: [
                "Tori Amos",
                "Bikini Kill",
                "Sonic Youth",
                "The Breeders",

            ]

        },
        song = {
            id: 6,
            title: "Down by the Water",
            artist: "PJ Harvey",
            album: "To Bring You My Love",
            year: 1995,
            lyrics: "I lost my heart / Under the Bridge / To that little girl",
            otherAnswers: [
                "Nick Cave",
                "PJ Harvey",
                "Kate Bush",
                "Portishead",

            ]

        },
        song = {
            id: 7,
            artist: "Radiohead",
            album: "OK Computer",
            year: 1997,
            lyrics: "Arrest this girl / Her Hitler hairdo / Is making me feel ill",
            otherAnswers: [
                "Radiohead",
                "Oasis",
                "Nirvana",
                "Red Hot Chili Peppers",

            ]

        },
        song = {
            id: 8,
            title:"Big Time Sensuality",
            artist: "Björk",
            album: "Debut",
            year: 1993,
            lyrics: "I can sense it / Something important is about to happen",
            otherAnswers: [
                "Kate Bush",
                "Björk",
                "Massive Attack",
                "Nine Inch Nails",

            ]

        },
        song = {
            id: 9,
            title: "Show me Love",
            artist: "Robyn",
            album: "Robyn is Here",
            year: 1995,
            lyrics: "Don't waste this love I wanna give it to you /  Tell me what you got",
            otherAnswers: [
                "Neneh Cherry",
                "Beyonce",
                "Robyn",
                "Jewel",
            ]

        },
        song = {
            id: 10,
            title: "Glory Box",
            artist: "Portishead",
            album: "Dummy",
            year: 1994,
            lyrics: "I'm so tired of playing / Playing with this bow and arrow / Gonna give me heart away",
            otherAnswers: [
                "Goldfrapp",
                "Tricky",
                "Portishead",
                "Cocteau Twins",
            ]
        }
    ],
    thousandsSongs: [
        song = {
            id: 1,
            title: "Get Low",
            artist: "Lil Jon",
            album: "Kings Of Crunk",
            year: 2002,
            lyrics: "To the window, to the wall",
            otherAnswers: [
                "Timbaland",
                "Lil Jon",
                "Snoop Dog",
                "50 Cent",
            ]
        },
        song = {
            id: 2,
            title:"Hey There Delilah",
            artist: "Plain White T's",
            album: "All That We Needed",
            year: 2005,
            lyrics: "But, girl, tonight you look so pretty",
            otherAnswers: [
                "Colbie Caillat",
                "Jason Mraz",
                "Plain White T's",
                "The All- American Rejects",

            ]

        },
        song = {
            id: 3,
            title:"Toxic",
            artist: "Britney Spears",
            album: "In the Zone",
            year: 2003,
            lyrics: "Losing my head, spinnin' round and 'round' / Do you feel me now?",
            otherAnswers: [
                "Katy Perry",
                "Britney Spears",
                "Rihanna",
                "Shakira",

            ]

        },
        song = {
            id: 4,
            title: "The Way I Are",
            artist: "Timbaland",
            album: "Shock Value",
            year: 2007,
            lyrics: "Oh, baby, it's alright now, / You ain't gotta flaunt for me",
            otherAnswers: [
                "50 Cent",
                "Britney Spears",
                "Justin Timberlake",
                "Timbaland",

            ]

        },
        song = {
            id: 5,
            title: "Señorita",
            artist: "Justin Timberlake",
            album: "Justified",
            year: 2002,
            lyrics: "He doesn't love ya, I can tell by his charm",
            otherAnswers: [
                "Justin Bieber",
                "Justin Timberlake",
                "Jay-Z",
                "Bruno Mars",

            ]

        },
        song = {
            id: 6,
            title: "American Boy",
            artist: "Estelle", 
            album: "Shine",
            year: 2008,
            lyrics: "Take me to New York, I'd love to see L.A.",
            otherAnswers: [
                "Busta Rhymes",
                "Rick Ross",
                "Janelle Monáe",
                "Estelle",

            ]

        },
        song = {
            id: 7,
            title: "Get Me Bodied",
            artist: "Beyoncé",
            album: "B'Day",
            year: 2006,
            lyrics: "A little sweat ain't never hurt nobody",
            otherAnswers: [
                "Beyoncé",
                "Lady Gaga",
                "Rihanna",
                "Christina Aguilera",

            ]

        },
        song = {
            id: 8,
            title: "Jenny from the Block",
            artist: "Jennifer Lopez",
            album: "This is Me...Then",
            year: 2002,
            lyrics: "I'm real even on Oprah / That's just me",
            otherAnswers: [
                "Shakira",
                "Rihanna",
                "Selena Gomez",
                "Jennifer Lopez",

            ]

        },
        song = {
            id: 9,
            title: "Paper Planes",
            artist: "M.I.A",
            album: "Kala",
            year: 2007,
            lyrics: "If you catch me at the border, I got visas in my name",
            otherAnswers: [
                "Santigold",
                "Madonna",
                "M.I.A",
                "Kelis",

            ]

        },
        song = {
            id: 10,
            title: '15 Steps',
            artist: "Radiohead",
            album: "In Rainbows",
            year: 2007,
            lyrics: "How come I end up where I started / How come I end up where I went wrong",
            otherAnswers: [
                "The Smashing Pumpkins",
                "Radiohead",
                "Arcade Fire",
                "Arctic Monkeys",
            ]
        }
    ]
}


//START GAME NAMESPACE. THROW ALL METHODS ONTO myGame. 
const myGame = {

}

myGame.startScore = 0;

myGame.scoreCounter = () => {
    myGame.startScore++;

    $(".counter").empty();

    $(".counter").append(`<p class="number-add">${myGame.startScore}</p>`);
}





//APPENDS QUESTION IN QUESTION BLOCK
myGame.appendQuestion = () => {

    $(".question-block").html(`<p class="lyrics">${gameVal[myGame.decadeOfChoice][gameVal.roundCounter].lyrics}</p>`);
};

//Append possible answers to answer boxes
myGame.appendAnswers = () => {

    $(".answer-box-1").append(`<p>${gameVal[myGame.decadeOfChoice][gameVal.roundCounter].otherAnswers[0]}</p>`);

    $(".answer-box-2").append(`<p>${gameVal[myGame.decadeOfChoice][gameVal.roundCounter].otherAnswers[1]}</p>`);

    $(".answer-box-3").append(`<p>${gameVal[myGame.decadeOfChoice][gameVal.roundCounter].otherAnswers[2]}</p>`);

    $(".answer-box-4").append(`<p>${gameVal[myGame.decadeOfChoice][gameVal.roundCounter].otherAnswers[3]}</p>`);

    // $(".next-round").fadeOut("200");

};

myGame.userAnswer = function () {
    $(".answer-block").off().click(function () {

        if ($(this).find("p")[0].innerHTML == gameVal[myGame.decadeOfChoice][gameVal.roundCounter].artist) {

            myGame.scoreCounter();

            $(".question-block").empty().append(`<h3>Correct!</h3>
            <ul>
                <li>Song: ${gameVal[myGame.decadeOfChoice][gameVal.roundCounter].title} </li>
                <li>Artist: ${gameVal[myGame.decadeOfChoice][gameVal.roundCounter].artist}</li>
                <li>Album: ${gameVal[myGame.decadeOfChoice][gameVal.roundCounter].album}</li>
                <li>Year: ${gameVal[myGame.decadeOfChoice][gameVal.roundCounter].year}</li>
            </ul>`);

            $(".answer-block").hide();

            $(".next-question button").show("200");

            $(".next-question").html(`<button class="next-round" tabindex=0>Next Round</button>`);


            myGame.endGame();

        } else {

            //IF WRONG GO RED

            $(".answer-block").hide();

            $(".next-question button").show("200");

            $(".question-block").empty().append(`<h3>Wrong Choice!</h3>
             <ul>
                <li>Song: ${gameVal[myGame.decadeOfChoice][gameVal.roundCounter].title} </li>
                <li>Artist: ${gameVal[myGame.decadeOfChoice][gameVal.roundCounter].artist}</li>
                <li>Album: ${gameVal[myGame.decadeOfChoice][gameVal.roundCounter].album}</li>
                <li>Year: ${gameVal[myGame.decadeOfChoice][gameVal.roundCounter].year}</li>
            </ul>`);

            $(".next-question").html(`<button class="next-round" tabindex=0>Next Round</button>`);

            myGame.endGame();

        }
    })
};

myGame.gameReset = () => {

    $(".answer-block").children("p")

        .remove();

}


//STORING USER NAME
$("#name-submit").on("click", function (event) {
    event.preventDefault();
        return userName = $("#name-input").val();

    }

)


myGame.endGame = () => {

    if (gameVal[myGame.decadeOfChoice][gameVal.roundCounter].id == 10) {

        $("main").animate({
            "opacity": "0"
        }, "fast");

        $(".right-header").animate({
            "height": "100vh"
        }, "slow").css({
            "padding": "19vh 0 0 0"
        }).css({
            'z-index': '19'
        }).empty().append(`
        <div class="user-score">
            <h3> Great job ${userName}! You scored ${myGame.startScore}/10.</h3>
            <p class="play-again">Play Again?</p>

            <button class= "generation eighties next-level-gen" id="eightiesSongs">80s</button>

            <button class= "generation nineties next-level-gen"
            id= "ninetiesSongs">90s</button>

            <button class= "generation thousands next-level-gen"
            id= "thousandsSongs">00s</button>

        </div>
        `);

        $(".answer-block").fadeOut();

        myGame.tryAgain();
    }
}

myGame.tryAgain = () => {

    myGame.roundCounter = 0;


    myGame.scoreCounter = 0;

    myGame.gameInit();

    $(".generation").on("click", function () {
        $(".answer-block").children("p")

            .remove();
        

        $(".answer-block").fadeIn("750");

        if ($(window).width() < 550) {
            $('.generation').on('click', function () {

              
                $('.right-header').css({
                    'height': '0'
                }).css({
                    'padding': '0'
                });

                $(".question-block").animate({
                        "height": "30vh"
                    }, 'fast')
                    .css({
                        "padding": "5px"
                    })
                    .css({
                        'transform': 'translateY(16vh)'
                    })
                    .css({
                        'display': 'flex'
                    })
                    .css({
                        'flex-direction': 'column'
                    })
                    .css({
                        'justify-content': 'center'
                    });
            })

        } else {
            $(".question-block").css({
                'translateY': '0'
            })

        }
    })

    $(".question-block").css("height", "50vh").css("padding", "5px");
}

//START: NEED IF ELSE DEPENDING ON USERS CHOICE OF 80/90/00; DIRECT THEM TO THAT ARRAY
//game starts here. User clicks button and it retrieves number that is passed through the appendquestion, appendanswer and useranswer functions.

myGame.startQuestions = () => {

    //ADDS ANSWER BOXES TO PAGE
    $(".answer-block").removeClass("hide-me").addClass("block-me");

    //APPENDS LYRICS AND QUESTION TO PAGE
    myGame.appendQuestion();

    //APPENDS ANSWERS TO PAGE
    myGame.appendAnswers();

    //IF THE USER ANSWER IS CORRECT, DO WHAT?
    myGame.userAnswer();
};

myGame.nextRound = () => {
    $(".next-question").on("click", ".next-round", function () {

        //ADDS ONE TO ROUNDCOUNTER 
        gameVal.roundCounter += 1;

        //SHOW ANSWERBLOCK WITH NEXT ROUND DATA
        $(".answer-block").show();

        $(this).hide();

        //RESET THE GAME DATA (ALL APPENDED DATA CLEARED)
        myGame.gameReset(gameVal.roundCounter);

        //REAPPEND QUESTIONS 
        myGame.appendQuestion(gameVal.roundCounter);

        //REAPPEND ANSWERS
        myGame.appendAnswers(gameVal.roundCounter);

        //TAKE IN ANOTHER USER ANSWER        
        myGame.userAnswer(gameVal.roundCounter);
    })
}

myGame.newGeneration = () => {
    $('.user-score').on('click', '.next-level-gen', function () {
        $('.user-score').hide();

        let chosenGeneration = $(this).attr("id")
        myGame.decadeOfChoice = [chosenGeneration];

        gameVal.roundCounter = 0;

        $("main").animate({
            "opacity": "1"
        }, "fast");
    })
}


myGame.gameInit = () => {

    $(".generation").on("click", function () {
        let chosenGeneration = $(this).attr("id")
        myGame.decadeOfChoice = [chosenGeneration];


        $(".question-block").css("height", "36vh").css("padding", "5px");


        myGame.startQuestions();

        myGame.nextRound();

        myGame.newGeneration();
    })

}


//MAIN FUNCTION WITH DOC READY
$(function () {
    myGame.gameInit();




    //STYLING ON FIRST INSTRUCTION BUTTON CLICK
    $(".instruction-slide").on("click", function () {
            
        $(".instruction-box").empty()

        //WINDOW SPECIFIC SIZE QUERIES
        if ($(window).width() > 550) {

            $(".icon-box").append(`
            <span>
                <div class="box-1"></div>
                <div class="box-2"></div>
            </span>
            `).addClass("instruction-close").animate({
                "opacity": "1"
            }, "slow");
        }
        if ($(window).width() < 550) {


            $('.instructions').animate({
                'width': '0 '
            })
                .animate({
                    'height': '0'
                })
            // $('.instructions').css({'display': 'none'})

            $('.instruction-close').css({
                'top': '2.5rem'
            });

            $('.right-header')
                .css({
                    'transform': 'translateY(0)'
                })



        } else {

            $(".instructions").animate({
                "width": "4rem"
            }, "400");

            $('.right-header')
                .css({
                    'transform': 'translateY(-41rem)'
                })
        }
    })

    //STYLING ON CLICK
    $("#name-submit").on("click", function () {

        if (userName === "") {
            $('.popup-container').append(`<p>Please Enter Your Name</p>`)

            $('.no-name-popup').animate({"opacity" : "1"})
        } else {
            $("main").css({
                "z-index": "18"
            });

            $(".question-block").animate({
                "opacity": "1"
            }, 700);

            if ($(window).width() > 550) {

                $(".right-header").animate({
                    "height": "20vh"
                }, "fast").empty().append(`<div class="good-luck-message">
                         <h4>Thanks, ${userName}! Good Luck!</h4>
                        </div>`)
                    .css({
                        "padding": "14vh 0 0 43%"
                    });

                // } else if ($(window).width() > 400) {
                //     $('.question-block')
                //         .animate({
                //             'opacity': '1'
                //         }, 500)
                //         .css({
                //             'transform': 'translateY(12rem)'
                //         });
            } else {
                $('.right-header')
                    .animate({
                        'height': '14vh'
                    }, 200)
                    .css({
                        'padding': '8vh 0px 0px 28%'
                    }).empty().append(`<div class="good-luck-message">
                             <h4>Thanks, ${userName}! Good Luck!</h4>
                            </div>`);
            }
            $('.question-block')
                .animate({
                    'opacity': '1'
                }, 500);
        }

    }
     )     // JAVASCRIPT MEDIA QUERIES

        if ($(window).width() < 400) {

            $('.generation').on('click', function () {
                $('.question-block')
                    .css({
                        'margin-top': '15%'
                    });

                $('.instructions')
                    .animate({
                        'height': '0'
                    }, 'slow');

                $('.right-header')
                    .animate({
                        'height': '14vh'
                    }, 'slow')
                    .css({
                        'padding': '8vh 0px 0px 28%'
                    });

            })
        }
    }

)